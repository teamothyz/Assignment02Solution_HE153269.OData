@*@page "user/edit"
@model eBookStoreApp.Pages.User.EditModel
@{
    ViewData["Title"] = "Edit Profile";
}

<div class="container">
    <h2>Edit User Profile</h2>

    <form method="post">
        <input type="hidden" class="form-control" asp-for="UserUpdate.HireDate" value="@Model.UserInfo.HireDate" />
        <input type="hidden" class="form-control" asp-for="UserUpdate.Id" value="@Model.UserInfo.Id" />
        <div class="form-group">
            <label>Email:</label>
            <input class="form-control" asp-for="UserUpdate.Email" value="@Model.UserInfo.Email" />
        </div>
        <div class="form-group">
            <label>First Name:</label>
            <input class="form-control" asp-for="UserUpdate.FirstName" value="@Model.UserInfo.FirstName" />
        </div>
        <div class="form-group">
            <label>Middle Name:</label>
            <input class="form-control" asp-for="UserUpdate.MiddleName" value="@Model.UserInfo.MiddleName" />
        </div>
        <div class="form-group">
            <label>Last Name:</label>
            <input class="form-control" asp-for="UserUpdate.LastName" value="@Model.UserInfo.LastName" />
        </div>
        <div class="form-group">
            <label>Source:</label>
            <input class="form-control" asp-for="UserUpdate.Source" value="@Model.UserInfo.Source" />
        </div>

        <div class="form-group">
            <label for="publisherId">Publisher:</label>
            <select id="publisherId" name="UserUpdate.PublisherId" class="form-control">
                @foreach (var publisher in Model.Publishers)
                {
                    @if (Model.UserInfo.PublisherId == publisher.Id)
                    {
                        <option selected value="@publisher.Id">@publisher.Name</option>
                    }
                    else
                    {
                        <option value="@publisher.Id">@publisher.Name</option>
                    }
                }
            </select>
        </div>

        <input type="hidden" class="form-control" asp-for="UserUpdate.RoleId" value="@Model.UserInfo.RoleId" />
        <button type="submit" class="btn btn-primary mt-3">Save</button>
    </form>
</div>*@

@page "user/edit"
@model eBookStoreApp.Pages.User.EditModel
@{
    ViewData["Title"] = "Edit Profile";
}

<div class="container">
    <h2>Edit User Profile</h2>

    <form id="my-form" method="post">

        <div id="error" class="d-none text-danger mt-3" role="alert">Update Failed</div>
        <div id="success" class="d-none text-success mt-3" role="alert">Update Successfully</div>

        @*<input type="hidden" class="form-control" name="HireDate" value="@Model.UserInfo.HireDate" />*@
        <input type="hidden" class="form-control" name="Id" value="@Model.UserInfo.Id" />
        <div class="form-group">
            <label>Email:</label>
            <input class="form-control" name="Email" value="@Model.UserInfo.Email" />
        </div>
        <div class="form-group">
            <label>First Name:</label>
            <input class="form-control" name="FirstName" value="@Model.UserInfo.FirstName" />
        </div>
        <div class="form-group">
            <label>Middle Name:</label>
            <input class="form-control" name="MiddleName" value="@Model.UserInfo.MiddleName" />
        </div>
        <div class="form-group">
            <label>Last Name:</label>
            <input class="form-control" name="LastName" value="@Model.UserInfo.LastName" />
        </div>
        <div class="form-group">
            <label>Source:</label>
            <input class="form-control" name="Source" value="@Model.UserInfo.Source" />
        </div>

        <div class="form-group">
            <label for="publisherId">Publisher:</label>
            <select id="publisherId" name="PublisherId" class="form-control">
                @foreach (var publisher in Model.Publishers)
                {
                    @if (Model.UserInfo.PublisherId == publisher.Id)
                    {
                        <option selected value="@publisher.Id">@publisher.Name</option>
                    }
                    else
                    {
                        <option value="@publisher.Id">@publisher.Name</option>
                    }
                }
            </select>
        </div>

        <input type="hidden" class="form-control" name="RoleId" value="@Model.UserInfo.RoleId" />
        <button type="button" onclick="submitForm('odata/users', 'PATCH')" class="btn btn-primary mt-3">Save</button>
    </form>
</div>